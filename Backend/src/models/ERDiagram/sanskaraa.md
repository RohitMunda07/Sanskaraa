---
config:
  theme: redux-dark
---
erDiagram
	direction TB
	USER {
		ObjectId _id PK ""  
		string fullname  ""  
		string email  ""  
		string password  ""  
		string address  ""  
		string phoneNumber UK ""  
		string pinCode  ""  
		string avatar  ""  
		string refreshToken  "" 
        string status  "" 
		ObjectId orderHistory  ""  
		ObjectId eventHistory  ""  
		ObjectId feedbackHistory  ""  
		timestamp createdAt  ""  
		timestamp updatedAt  ""  
	}
	ORDER {
		ObjectId _id PK ""  
		number budget  ""  
		number rating  ""  
		string content  ""  
		array items  ""
		string status  ""
		string paymentStatus  ""
        ObjectId photoFile ""
        ObjectId videoFile ""  
		timestamp createdAt  ""  
		timestamp updatedAt  ""  
	}
	FEEDBACK {
		ObjectId _id PK ""  
		string content  ""  
		number rating  ""
        ObjectId owner  
		ObjectId subjectType  ""  
		timestamp createdAt  ""  
		timestamp updatedAt  ""  
	}
	EVENT {
		ObjectId _id PK ""  
		string address  ""  
		string function  ""  
		number budget  ""  
		number rating  ""  
		string content  "" 
		Date eventDate  ""
		string eventType  ""
		number attendees  ""
		string status  "" 
		ObjectId photoFile FK ""  
		ObjectId videoFile FK ""  
		timestamp createdAt  ""  
		timestamp updatedAt  ""  
	}
	COMMENT {
		ObjectId _id PK ""  
		string content  "" 
        ObjectId photoFile  ""  
        ObjectId videoFile  ""
		ObjectId ownerType  ""  
		timestamp createdAt  ""  
		timestamp updatedAt  ""  
	}
	PHOTO {
		ObjectId _id PK ""  
		string photoFile  ""  
		string title  ""  
		number views  ""  
		ObjectId ownerType  ""  
		timestamp createdAt  ""  
		timestamp updatedAt  ""  
	}
	VIDEO {
		ObjectId _id PK ""  
		string videoFile  ""  
		number duration  ""  
		string title  ""  
		number views  ""  
		ObjectId ownerType  ""  
		timestamp createdAt  ""  
		timestamp updatedAt  ""  
	}
	VENDOR {
		ObjectId _id PK ""  
		string username UK ""  
		string fullname  ""  
		string email  ""  
		string password  ""  
		string address  ""  
		string phoneNumber UK ""  
		string pinCode  ""  
		string avatar  ""  
		string refreshToken  ""  
		string coverImage  ""  
		boolean isVerified  ""  
		string bio  ""  
		ObjectId orderHistory  ""  
		ObjectId feedbackHistory  ""  
		timestamp createdAt  ""  
		timestamp updatedAt  ""  
	}
	CATERER {
		ObjectId _id PK ""  
		string username UK ""  
		string fullname  ""  
		string email  ""  
		string password  ""  
		string address  ""  
		string phoneNumber UK ""  
		string pinCode  ""  
		string avatar  ""  
		string refreshToken  ""  
		string coverImage  ""  
		string speciality  ""  
		boolean isVerified  ""  
		string bio  ""  
		ObjectId eventHistory  ""  
		ref feedbackHistory  ""  
		timestamp createdAt  ""  
		timestamp updatedAt  ""  
	}
	DECORATOR {
		ObjectId _id PK ""  
		string username UK ""  
		string fullname  ""  
		string email  ""  
		string password  ""  
		string address  ""  
		string phoneNumber UK ""  
		string pinCode  ""  
		string avatar  ""  
		string refreshToken  ""  
		string coverImage  ""  
		string speciality  ""  
		boolean isVerified  ""  
		string bio  ""  
		ObjectId eventHistory  ""  
		ObjectId feedbackHistory  ""  
		timestamp createdAt  ""  
		timestamp updatedAt  ""  
	}
	MEDIA {
		ObjectId _id PK ""  
		string username UK ""  
		string fullname  ""  
		string email  ""  
		string password  ""  
		string address  ""  
		string phoneNumber UK ""  
		string pinCode  ""  
		string avatar  ""  
		string refreshToken  ""  
		string coverImage  ""  
		string specs  ""  
		boolean isVerified  ""  
		string bio  ""  
		ref eventHistory  ""  
		ref feedbackHistory  ""  
		timestamp createdAt  ""  
		timestamp updatedAt  ""  
	}
	PANDIT {
		ObjectId _id PK ""  
		string username UK ""  
		string fullname  ""  
		string email  ""  
		string password  ""  
		string phoneNumber UK ""  
		string pinCode  ""  
		string avatar  ""  
		string refreshToken  ""  
		string coverImage  ""  
		string languages  ""  
		boolean isVerified  ""  
		string bio  ""  
        ObjectId eventHistory  ""  
        ObjectId feedbackHistory  ""
		timestamp createdAt  ""  
		timestamp updatedAt  ""  
	}

	USER||--o{ORDER:"places"
	USER||--o{FEEDBACK:"gives"
	USER||--o{EVENT:"organizes"
	USER||--o{COMMENT:"makes"
	USER||--o{PHOTO:"owns"
	USER||--o{VIDEO:"owns"

	VENDOR||--o{ORDER:"receives"
	VENDOR||--o{FEEDBACK:"receives"
	VENDOR||--o{PHOTO:"owns"
	VENDOR||--o{VIDEO:"owns"
	VENDOR||--o{COMMENT:"makes"

	CATERER||--o{EVENT:"participates_in"
	CATERER||--o{FEEDBACK:"receives"
	CATERER||--o{PHOTO:"owns"
	CATERER||--o{VIDEO:"owns"
	CATERER||--o{COMMENT:"makes"
	
    DECORATOR||--o{EVENT:"participates_in"
	DECORATOR||--o{FEEDBACK:"receives"
	DECORATOR||--o{PHOTO:"owns"
	DECORATOR||--o{VIDEO:"owns"
	DECORATOR||--o{COMMENT:"makes"
	
	MEDIA||--o{EVENT:"participates_in"
	MEDIA||--o{FEEDBACK:"receives"
    MEDIA||--o{COMMENT:"makes"
	MEDIA||--o{PHOTO:"owns"
	MEDIA||--o{VIDEO:"owns"
	
	PANDIT||--o{EVENT:"participates_in"
	PANDIT||--o{FEEDBACK:"receives"
    PANDIT||--o{COMMENT:"makes"
	PANDIT||--o{PHOTO:"owns"
	PANDIT||--o{VIDEO:"owns"

	EVENT||--o{PHOTO:"has"
	EVENT||--o{VIDEO:"has"

	ORDER||--o{PHOTO:"contains"
	ORDER||--o{VIDEO:"contains"

	PHOTO||--o{COMMENT:"has"
	VIDEO||--o{COMMENT:"has"

    FEEDBACK}o--||USER:"makes"
	FEEDBACK}o--||VENDOR:"about"
	FEEDBACK}o--||CATERER:"about"
	FEEDBACK}o--||DECORATOR:"about"
	FEEDBACK}o--||MEDIA:"about"
	FEEDBACK}o--||PANDIT:"about"